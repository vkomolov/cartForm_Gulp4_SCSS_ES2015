!function i(o,c,s){function l(e,t){if(!c[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var a=c[e]={exports:{}};o[e][0].call(a.exports,function(t){return l(o[e][1][t]||t)},a,a.exports,i,o,c,s)}return c[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.Sku=function(){function r(t){if(o(this,r),!Object.keys(t).length)throw new Error("no data in the given obj"+t.toString());for(var e in t)this[e]=t[e]}return a(r,[{key:"getAllProps",value:function(){return Object.keys(this)}},{key:"initProperty",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t in this)return e&&(this[t]=e),this[t];throw new Error("no such property found")}},{key:"getSum",value:function(){return(Math.round(this.price*this.itemQnty*100)/100).toFixed(2)}}]),r}(),r.Order=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;o(this,i),this.skuArr=t,this.tax=e,this.shipping=r,this.payer=n,this.recipient=a}return a(i,[{key:"getSubtotalSum",value:function(){var e=0;if(this.skuArr.forEach(function(t){e+=+t.getSum()}),e)return Math.round(100*e)/100;throw new Error("Something is wrong with price or qnty of sku")}},{key:"getTax",value:function(){var t=this.getSubtotalSum();return Math.round(t/100*this.tax*100)/100}},{key:"getShipping",value:function(){var t=this.getSubtotalSum();return Math.round(t/100*this.shipping*100)/100}},{key:"getTotalSum",value:function(){var t=this.getSubtotalSum()+this.getTax()+this.getShipping();return Math.round(100*t)/100}},{key:"initProperty",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t in this)return e&&(this[t]=e),this[t];throw new Error("no such property found")}}]),i}()},{}],2:[function(o,t,e){"use strict";window.addEventListener("DOMContentLoaded",function(){var t=o("./partial/initialData"),e=o("./partial/cssVars"),r=o("./partial/initForm"),n=function(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},e=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(t){var e,r,n;e=a,n=i[r=t],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n})}return a}({},e,{tax:20,shippingCost:30,stage:0,chosenArr:t.chosenArr,areaArr:t.areaArr,init:o("./partial/funcCollection"),inputNamesObj:o("./partial/inputsData"),regExpObj:o("./partial/regExpData")});if(!(n.init.checkInStorage(n.storageChosen,n.chosenArr)&&n.init.checkInStorage(n.storageArea,n.areaArr)&&document.forms[n.formName]))throw new Error("form #'order-form' not found or localStorage init error");if(n.form=document.getElementById(n.formName),n.headerCartQnty=document.getElementById(n.cartQntyName),n.stageWrapper=document.getElementById(n.stageWrapperName),n.localStore=JSON.parse(localStorage.getItem(n.storageChosen)),!n.headerCartQnty)throw new Error("no id ".concat(n.cartQntyName," found"));n.headerCartQnty.textContent=n.localStore.data.length;var a,i=[document.querySelector(".".concat(n.leftBarName)),document.querySelector(".".concat(n.rightBarName))];a=i,console.log(a),n.init.equalHeights(i),r(n)})},{"./partial/cssVars":4,"./partial/funcCollection":5,"./partial/initForm":6,"./partial/initialData":7,"./partial/inputsData":8,"./partial/regExpData":9}],3:[function(t,e,r){"use strict";e.exports=function(y){var n=y.order,v=document.getElementById(y.cartList),t=document.querySelector(".".concat(y.cartInfoTotal));if(n.skuArr.forEach(function(t){var e=t.initProperty("photoUrl"),r=t.initProperty("itemName"),n=t.getSum(),a=t.initProperty("itemDetail"),i=t.initProperty("itemQnty"),o=document.createElement("div");o.classList.add(y.cartItem);var c=document.createElement("div");c.setAttribute("class",y.imageContainer),o.appendChild(c);var s=document.createElement("img");s.setAttribute("src",e),s.setAttribute("alt","item image"),c.appendChild(s);var l=document.createElement("div");l.classList.add(y.cartItemInfo),o.appendChild(l);var u=document.createElement("div");u.setAttribute("class","flex-box between"),l.appendChild(u);var p=document.createElement("span");p.setAttribute("data-cart","itemName"),p.textContent=r,u.appendChild(p);var m=document.createElement("span");m.setAttribute("data-cart","itemSum"),m.textContent="$"+n,u.appendChild(m);var d=document.createElement("div");d.classList.add(y.cartItemSpec),l.appendChild(d);var g=document.createElement("span");g.setAttribute("data-cart","itemDetail"),g.textContent=a,d.appendChild(g);var f=document.createElement("span");f.textContent="Quantity:",d.appendChild(f);var h=document.createElement("span");h.setAttribute("data-cart","itemQnty"),h.textContent=i,f.appendChild(h),v.appendChild(o),v.appendChild(document.createElement("hr"))}),!t)throw new Error("class ".concat(y.cartInfoTotal," not found in DOM"));t.querySelectorAll("span").forEach(function(e){var t=e.dataset.cart;if(t){var r={subTotal:function(){e.textContent="$"+n.getSubtotalSum().toFixed(2)},shippingCost:function(){var t=n.getShipping();e.textContent=t?"$"+t.toFixed(2):"free"},taxCost:function(){e.textContent="$"+n.getTax().toFixed(2)},totalPrice:function(){e.textContent="$"+n.getTotalSum().toFixed(2)}};t in r&&r[t]()}})}},{}],4:[function(t,e,r){"use strict";e.exports={formName:"order-form",storageChosen:"chosen",storageArea:"area",leftBarName:"person-info",rightBarName:"cart-info",cartQntyName:"cart__qnty",cartList:"cart-list",cartInfoTotal:"cart-info__total",cartInfoTotalRow:"cart-info__total__row",cartItem:"cart-item",imageContainer:"image-container goods",cartItemInfo:"cart-item__info",cartItemSpec:"cart-item__spec",formBlock:"form__block",stageWrapperName:"form__stage-wrapper"}},{}],5:[function(t,e,r){"use strict";var n=t("../classes"),a=n.Sku,i=n.Order;function o(t){t.parentElement.classList.toggle("active")}r.checkInStorage=function(t,e){var r,n,a,i,o=localStorage.getItem(t);if(o){r=JSON.parse(o);var c=new Date(r.creationDate);if((new Date-c)/1e3/60/60/24<1)return!0}return n=t,i={},(a=e).length&&(i={data:a,creationDate:new Date},localStorage.setItem(n,JSON.stringify(i))),!!localStorage.getItem(t)},r.equalHeights=function(t){for(var e,r=0,n=0;n<t.length;n++)t[n].offsetHeight>=r&&(r=t[n].offsetHeight,e=r,console.log(e));t.forEach(function(t){return t.style.height=r+"px"})},r.createSku=function(t){return t.map(function(t){return new a(t)})},r.makeOrder=function(t,e,r){return new i(t,e,r)},r.runStage=function(r,t){if(!t.length)throw new Error("the array of nodeLists given in arguments is empty");t.forEach(function(t){if(!t.length)throw new Error("the nodeList is empty");var e;e="active",t.forEach(function(t){t.classList.remove(e)}),t[r].classList.add("active")})},r.listen=function(t){t.addEventListener("keydown",function(t){var e=t.target;13===t.keyCode&&e.blur()},!0),t.addEventListener("focus",function(t){var e=t.target;"recipient-country"!==e.name&&"billing-country"!==e.name&&o(e)},!0),t.addEventListener("blur",function(t){var e=t.target;"recipient-country"!==e.name&&"billing-country"!==e.name&&o(e)},!0),t.addEventListener("click",function(t){t.target.closest("div").dataset.type})}},{"../classes":1}],6:[function(l,t,e){"use strict";t.exports=function(t){var e,r=l("./createCartDom"),n=t.stage,a=t.stageWrapper.querySelectorAll('span[data-type="stage"]'),i=t.form.querySelectorAll(".".concat(t.formBlock)),o=t.init.createSku(t.chosenArr),c=t.tax,s=t.shippingCost;o.length&&(e=t.init.makeOrder(o,c,s)),r({order:e,cartList:t.cartList,cartInfoTotal:t.cartInfoTotal,cartItem:t.cartItem,imageContainer:t.imageContainer,cartItemInfo:t.cartItemInfo,cartItemSpec:t.cartItemSpec}),t.init.runStage(n,[a,i]),t.init.listen(t.form)}},{"./createCartDom":3}],7:[function(t,e,r){"use strict";r.chosenArr=[{itemName:"The Chelsea Boot",itemId:"18035",price:"235",itemDetail:"Black",itemQnty:1,photoUrl:"./img/boots.png"},{itemName:"The Twill Snap Backpack",itemId:"22016",price:"65",itemDetail:"Reverse Denim + Brown leather",itemQnty:1,photoUrl:"./img/backpack.png"},{itemName:"The Twill Zip Tote",itemId:"38049",price:"48",itemDetail:"Reverse Denim + Black leather",itemQnty:1,photoUrl:"./img/bag.png"}],r.areaArr=["Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore"]},{}],8:[function(t,e,r){"use strict";e.exports={"recipient-full-name":{error:"Jonathan Smith",type:"spacedString",stage:0},"recipient-phone-number":{error:"+7(987)123-77-88",type:"phone",stage:0},"recipient-street-address":{error:"Pushkina",type:"string",stage:0},optional:{error:"format: All except: '+', '=', '*'",type:"combi",stage:-1},"recipient-city":{error:"Kazan",type:"string",stage:0},"recipient-country":{error:"Russia",type:"stringMaySpace",stage:0},"recipient-zip":{error:"420015",type:"zip",stage:0},"billing-full-name":{error:"Jonathan Smith",type:"spacedString",stage:2},"billing-email":{error:"j.smith@gmail.com",type:"email",stage:1},"billing-street-address":{error:"Pushkina",type:"string",stage:1},"billing-optional":{error:"format: All except: '+', '=', '*'",type:"combi",stage:-1},"billing-city":{error:"Kazan",type:"string",stage:1},"billing-country":{error:"Russia",type:"stringMaySpace",stage:1},"billing-zip":{error:"420015",type:"zip",stage:1},"card-name":{error:"Jonathan Smith",type:"spacedString",stage:2},"card-number":{error:"3333 7777 8888 3333",type:"cardNumber",stage:2},"card-date":{error:"MMYY: 0518",type:"cardDate",stage:2},"card-code":{error:"0458",type:"cardCode",stage:2}}},{}],9:[function(t,e,r){"use strict";e.exports={phone:/^[\+]?[0-9]{0,1}[(]?[0-9]{0,3}[)]?[0-9]{0,3}[-]?[0-9]{0,2}[-]?[0-9]{0,2}$/,string:/^[a-z]{1,30}$/i,stringMaySpace:/^([a-z]{1,15}\s?)([a-z]{0,15}\s?)[a-z]{0,15}$/i,spacedString:/^([a-z]{1,15}\s?)[a-z]{0,15}$/i,combi:/^[^\+\*=]+$/i,zip:/^[0-9]{1,6}$/i,email:/^[a-z0-9]{1,15}[\@]?[a-z0-9]{0,15}[\.]?[a-z]{0,5}$/i,cardNumber:/^[0-9]{1,4}\s?[0-9]{0,4}\s?[0-9]{0,4}\s?[0-9]{0,4}$/i,cardDate:/^[0-9]{1,4}$/i,cardCode:/^[0-9]{1,4}$/i}},{}]},{},[2]);