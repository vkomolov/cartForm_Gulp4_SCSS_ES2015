!function i(o,c,s){function l(e,t){if(!c[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(u)return u(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var n=c[e]={exports:{}};o[e][0].call(n.exports,function(t){return l(o[e][1][t]||t)},n,n.exports,i,o,c,s)}return c[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}r.Sku=function(){function r(t){if(o(this,r),!Object.keys(t).length)throw new Error("no data in the given obj"+t.toString());for(var e in t)this[e]=t[e]}return n(r,[{key:"getAllProps",value:function(){return Object.keys(this)}},{key:"initProperty",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t in this)return e&&(this[t]=e),this[t];throw new Error("no such property found")}},{key:"getSum",value:function(){return(Math.round(this.price*this.itemQnty*100)/100).toFixed(2)}}]),r}(),r.Order=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;o(this,i),this.skuArr=t,this.tax=e,this.shipping=r,this.payer=a,this.recipient=n}return n(i,[{key:"getSubtotalSum",value:function(){var e=0;if(this.skuArr.forEach(function(t){e+=+t.getSum()}),e)return Math.round(100*e)/100;throw new Error("Something is wrong with price or qnty of sku")}},{key:"getTax",value:function(){var t=this.getSubtotalSum();return Math.round(t/100*this.tax*100)/100}},{key:"getShipping",value:function(){var t=this.getSubtotalSum();return Math.round(t/100*this.shipping*100)/100}},{key:"getTotalSum",value:function(){var t=this.getSubtotalSum()+this.getTax()+this.getShipping();return Math.round(100*t)/100}},{key:"initProperty",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t in this)return e&&(this[t]=e),this[t];throw new Error("no such property found")}}]),i}()},{}],2:[function(t,e,r){"use strict";var a="order-form",n="cart__qnty",i=t("./partial/initialData"),o={formBlock:"form__block",cartList:"cart-list",cartInfoTotal:"cart-info__total",cartInfoTotalRow:"cart-info__total__row",cartItem:"cart-item",imageContainer:"image-container goods",cartItemInfo:"cart-item__info",cartItemSpec:"cart-item__spec",tax:20,shippingCost:30,chosenArr:i.chosenArr,areaArr:i.areaArr,init:t("./partial/funcCollection"),inputNamesObj:t("./partial/inputsData"),regExpObj:t("./partial/regExpData")};window.addEventListener("DOMContentLoaded",function(){if(!(o.init.checkInStorage("chosen",o.chosenArr)&&o.init.checkInStorage("area",o.areaArr)&&document.forms[a]))throw new Error("form #'order-form' not found or localStorage init error");if(o.form=document.getElementById(a),o.headerCartQnty=document.getElementById(n),o.stageWrapper=document.getElementById("form__stage-wrapper"),o.localStore=JSON.parse(localStorage.getItem("chosen")),!o.headerCartQnty)throw new Error("no id ".concat(n," found"));o.headerCartQnty.textContent=o.localStore.data.length;var t=[document.querySelector(".".concat("person-info")),document.querySelector(".".concat("cart-info"))];o.init.equalHeights(t),function(t){t.stageWrapper.querySelectorAll("span"),t.form.querySelectorAll(".".concat(t.formBlock));var e,r=t.init.createSku(t.chosenArr),a=t.tax,n=t.shippingCost;r.length&&(e=t.init.makeOrder(r,a,n));var i={order:e,cartList:t.cartList,cartInfoTotal:t.cartInfoTotal,cartItem:t.cartItem,imageContainer:t.imageContainer,cartItemInfo:t.cartItemInfo,cartItemSpec:t.cartItemSpec};t.init.createCartDom(i)}(o)})},{"./partial/funcCollection":3,"./partial/initialData":4,"./partial/inputsData":5,"./partial/regExpData":6}],3:[function(t,e,r){"use strict";var a=t("../classes"),n=a.Sku,i=a.Order;r.checkInStorage=function(t,e){var r,a,n,i,o=localStorage.getItem(t);if(o){r=JSON.parse(o);var c=new Date(r.creationDate);if((new Date-c)/1e3/60/60/24<1)return!0}return a=t,i={},(n=e).length&&(i={data:n,creationDate:new Date},localStorage.setItem(a,JSON.stringify(i))),!!localStorage.getItem(t)},r.equalHeights=function(t){for(var e=0,r=0;r<t.length;r++)t[r].offsetHeight>=e&&(e=t[r].offsetHeight);t.forEach(function(t){return t.style.height=e+"px"})},r.createSku=function(t){return t.map(function(t){return new n(t)})},r.makeOrder=function(t,e,r){return new i(t,e,r)},r.createCartDom=function(y){var a=y.order,S=document.getElementById(y.cartList),t=document.querySelector(".".concat(y.cartInfoTotal));if(a.skuArr.forEach(function(t){var e=t.initProperty("photoUrl"),r=t.initProperty("itemName"),a=t.getSum(),n=t.initProperty("itemDetail"),i=t.initProperty("itemQnty"),o=document.createElement("div");o.classList.add(y.cartItem);var c=document.createElement("div");c.setAttribute("class",y.imageContainer),o.appendChild(c);var s=document.createElement("img");s.setAttribute("src",e),s.setAttribute("alt","item image"),c.appendChild(s);var l=document.createElement("div");l.classList.add(y.cartItemInfo),o.appendChild(l);var u=document.createElement("div");u.setAttribute("class","flex-box between"),l.appendChild(u);var p=document.createElement("span");p.setAttribute("data-cart","itemName"),p.textContent=r,u.appendChild(p);var m=document.createElement("span");m.setAttribute("data-cart","itemSum"),m.textContent="$"+a,u.appendChild(m);var d=document.createElement("div");d.classList.add(y.cartItemSpec),l.appendChild(d);var g=document.createElement("span");g.setAttribute("data-cart","itemDetail"),g.textContent=n,d.appendChild(g);var h=document.createElement("span");h.textContent="Quantity:",d.appendChild(h);var f=document.createElement("span");f.setAttribute("data-cart","itemQnty"),f.textContent=i,h.appendChild(f),S.appendChild(o),S.appendChild(document.createElement("hr"))}),!t)throw new Error("class ".concat(y.cartInfoTotal," not found in DOM"));t.querySelectorAll("span").forEach(function(e){var t=e.dataset.cart;if(t){var r={subTotal:function(){e.textContent="$"+a.getSubtotalSum().toFixed(2)},shippingCost:function(){var t=a.getShipping();e.textContent=t?"$"+t.toFixed(2):"free"},taxCost:function(){e.textContent="$"+a.getTax().toFixed(2)},totalPrice:function(){e.textContent="$"+a.getTotalSum().toFixed(2)}};t in r&&r[t]()}})}},{"../classes":1}],4:[function(t,e,r){"use strict";r.chosenArr=[{itemName:"The Chelsea Boot",itemId:"18035",price:"235",itemDetail:"Black",itemQnty:1,photoUrl:"./img/boots.png"},{itemName:"The Twill Snap Backpack",itemId:"22016",price:"65",itemDetail:"Reverse Denim + Brown leather",itemQnty:1,photoUrl:"./img/backpack.png"},{itemName:"The Twill Zip Tote",itemId:"38049",price:"48",itemDetail:"Reverse Denim + Black leather",itemQnty:1,photoUrl:"./img/bag.png"}],r.areaArr=["Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore"]},{}],5:[function(t,e,r){"use strict";e.exports={"recipient-full-name":{error:"Jonathan Smith",type:"spacedString",stage:0},"recipient-phone-number":{error:"+7(987)123-77-88",type:"phone",stage:0},"recipient-street-address":{error:"Pushkina",type:"string",stage:0},optional:{error:"format: All except: '+', '=', '*'",type:"combi",stage:-1},"recipient-city":{error:"Kazan",type:"string",stage:0},"recipient-country":{error:"Russia",type:"stringMaySpace",stage:0},"recipient-zip":{error:"420015",type:"zip",stage:0},"billing-full-name":{error:"Jonathan Smith",type:"spacedString",stage:2},"billing-email":{error:"j.smith@gmail.com",type:"email",stage:1},"billing-street-address":{error:"Pushkina",type:"string",stage:1},"billing-optional":{error:"format: All except: '+', '=', '*'",type:"combi",stage:-1},"billing-city":{error:"Kazan",type:"string",stage:1},"billing-country":{error:"Russia",type:"stringMaySpace",stage:1},"billing-zip":{error:"420015",type:"zip",stage:1},"card-name":{error:"Jonathan Smith",type:"spacedString",stage:2},"card-number":{error:"3333 7777 8888 3333",type:"cardNumber",stage:2},"card-date":{error:"MMYY: 0518",type:"cardDate",stage:2},"card-code":{error:"0458",type:"cardCode",stage:2}}},{}],6:[function(t,e,r){"use strict";e.exports={phone:/^[\+]?[0-9]{0,1}[(]?[0-9]{0,3}[)]?[0-9]{0,3}[-]?[0-9]{0,2}[-]?[0-9]{0,2}$/,string:/^[a-z]{1,30}$/i,stringMaySpace:/^([a-z]{1,15}\s?)([a-z]{0,15}\s?)[a-z]{0,15}$/i,spacedString:/^([a-z]{1,15}\s?)[a-z]{0,15}$/i,combi:/^[^\+\*=]+$/i,zip:/^[0-9]{1,6}$/i,email:/^[a-z0-9]{1,15}[\@]?[a-z0-9]{0,15}[\.]?[a-z]{0,5}$/i,cardNumber:/^[0-9]{1,4}\s?[0-9]{0,4}\s?[0-9]{0,4}\s?[0-9]{0,4}$/i,cardDate:/^[0-9]{1,4}$/i,cardCode:/^[0-9]{1,4}$/i}},{}]},{},[2]);